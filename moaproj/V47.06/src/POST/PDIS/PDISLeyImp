/****o* Pendientes de agrupación/OFB:post:PDISLeyImp
* NOMBRE
*   OFB:post:PDISLeyImp
* DESCRIPCION
*   Comportamiento del objeto (obligatorio)
* ENTRADAS
*   Parámetros de entrada de la rutina, sean argumentos o campos que tiene en cuenta
* SALIDAS
*   Campos modificados como resultado o returns cuyos valores sean no triviales
* IMPACTOS
*   Otros objetos que deberán ser analizados al modificar el objeto actual
* REFERENCIADO POR
*   Objetos que llaman al objeto documentado (obligatorio)
* DOCUMENTACION
*   Documentación relevante que deberá ser actualizada por la modificación de la rutina
* SOURCE
*/
#include "postPDIS.h"

SUB post:PDISLeyImp
	/*Esta PRES se hizo para evitar que un operador que no tenga perfil de Autoimpresion pueda 
	visualizar o modificar dichas Tablas. Esto debería impedirse por medio de los flags de acceso
	a los menues, pero no funciona correctamente - Gabriel Falciola*/
	if (op:op_autoimpre_auth != "X")
		msgbox "NO TIENE PERMISOS PARA INGRESAR A ESTA OPCION",OFB_OK,"ERROR"
		ungetkey RT_ESC
		return (-2)
	else
		/*Si esta todo bien seteo un flag para indicar que estoy en un ABM de Autoimpresion, por
		lo tanto cuando pida supervision, solo podra realizarla un operador con dicho perfil.
		Gabriel Falciola*/
		setflag autoimpresion_flags,abm_autoimpresion
	end if
    CLEARFIELD post:adt_br_branch
    REFRESH    post:adt_br_branch
    CLEARFIELD post:adt_br_bank_name
    REFRESH    post:adt_br_bank_name
    PROTFIELD  post:adt_br_bank_name
    CALL ABMLeyImp_clear
END SUB

/*******/
