/****o* Pendientes de agrupación/OFB:giros:FVALcons_emis_inter
* NOMBRE
*   OFB:giros:FVALcons_emis_inter
* DESCRIPCION
*   Comportamiento del objeto (obligatorio)
* ENTRADAS
*   Parámetros de entrada de la rutina, sean argumentos o campos que tiene en cuenta
* SALIDAS
*   Campos modificados como resultado o returns cuyos valores sean no triviales
* IMPACTOS
*   Otros objetos que deberán ser analizados al modificar el objeto actual
* REFERENCIADO POR
*   Objetos que llaman al objeto documentado (obligatorio)
* DOCUMENTACION
*   Documentación relevante que deberá ser actualizada por la modificación de la rutina
* SOURCE
*/
#include "girosfval.h"

SUB giros:FVALcons_emis_inter

  call giros:FVALcaracter_valido /*ACP-Ps9355 valida que no contengan caracteres inválidos*/
    IF (RETVAL < 0) THEN
       RETURN (-1)
    END IF

    if ( cons_emi_nom_inter.numchars == 0 && cons_emi_ape_inter.numchars == 0 )
    	unprotfield  giros:cons_emi_tel_inter
	    unprotfield  giros:cons_inter_ctrol
    else

    	clearfield   giros:cons_emi_tel_inter
    	refresh      giros:cons_emi_tel_inter
    	protfield    giros:cons_emi_tel_inter

    	clearfield   giros:cons_inter_ctrol
    	refresh      giros:cons_inter_ctrol
    	protfield    giros:cons_inter_ctrol

	    if ( LastKey != RT_TAB )
       		If ( cons_emi_nom_inter.NUMCHARS == 0 && \
	     		  cons_emi_ape_inter.NUMCHARS != 0) Then
       			MsgBox "DEBE INGRESAR EL NOMBRE DEL EMISOR" \
			      OFB_OK,"Error"
       			RETURN (-1)
        	ElseIf ( cons_emi_nom_inter.NUMCHARS != 0 && \
		 	      cons_emi_ape_inter.NUMCHARS == 0)
       			MsgBox \
			       "DEBE INGRESAR EL APELLIDO DEL EMISOR" \
			       OFB_OK,"Error"
       			RETURN (-1)
       		Endif    
	      end if
    end if
END SUB

/*******/
